import terser from"@rollup/plugin-terser";import alias from"@rollup/plugin-alias";import fs from"fs";import path from"path";import{fileURLToPath}from"url";const __dirname=path.dirname(fileURLToPath(import.meta.url));function findCubismDir(){const i=path.join(__dirname,"build");let r=fs.readdirSync(i).filter(r=>r.startsWith("CubismSdkForWeb-")&&fs.statSync(path.join(i,r)).isDirectory());return 0===r.length&&(r=["CubismSdkForWeb-5-r.4"]),path.join(i,r[0])}const cubismDir=findCubismDir();export default{input:"build/waifu-tips.js",output:{dir:"dist/",format:"esm",chunkFileNames:"chunk/[name].js",sourcemap:!0,banner:"/*!\n * Live2D Widget\n * https://github.com/stevenjoezhang/live2d-widget\n */\n"},plugins:[alias({entries:[{find:"@demo",replacement:path.resolve(cubismDir,"Samples/TypeScript/Demo/src/")},{find:"@framework",replacement:path.resolve(cubismDir,"Framework/src/")}]}),terser()],context:"this"};